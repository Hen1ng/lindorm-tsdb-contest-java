package com.alibaba.lindorm.contest.compress;

import com.alibaba.lindorm.contest.compress.gorilla.*;

import java.nio.ByteBuffer;

public class DoubleCompress {

    public static ByteBuffer encode(double[] values) {
        ByteBufferBitOutput byteBufferBitOutput = new ByteBufferBitOutput();
        final ValueCompressor valueCompressor = new ValueCompressor(byteBufferBitOutput, new LastValuePredictor());
        for (int i = 0; i < values.length; i++) {
            final double value = values[i];
            if (i == 0) {
                valueCompressor.writeFirst(Double.doubleToRawLongBits(value));
            } else {
                valueCompressor.compressValue(Double.doubleToRawLongBits(value));
            }
        }
        byteBufferBitOutput.writeBits(0x0F, 4);
        byteBufferBitOutput.writeBits(0xFFFFFFFF, 32);
        byteBufferBitOutput.skipBit();
        byteBufferBitOutput.flush();
        final ByteBuffer byteBuffer = byteBufferBitOutput.getByteBuffer();
        byteBuffer.flip();
        return byteBuffer.slice();
    }

    public static double[] decode(ByteBuffer byteBuffer, int valueSize) {
        double[] doubles = new double[valueSize];
        final ByteBufferBitInput byteBufferBitInput = new ByteBufferBitInput(byteBuffer);
        final ValueDecompressor valueDecompressor = new ValueDecompressor(byteBufferBitInput, new LastValuePredictor());
        final long l =
                valueDecompressor.readFirst();
        int j = 0;
        doubles[j] = Double.longBitsToDouble(l);
        j++;
        int i = valueSize - 1;
        while (i > 0) {
            final long l1 = valueDecompressor.nextValue();
            final double v1 = Double.longBitsToDouble(l1);
            i--;
            doubles[j] = v1;
            j++;
        }
        return doubles;
    }

    public static void main(String[] args) {
        double[] values = new double[]{
                144181.99973129772,144181.1674803,144180.11920794504,144174.51380059644,144173.75347448047,144173.20833544724,144176.90203696524,144175.9037689279,144179.5252817406,144178.62561777595,144177.78859961373,144177.18501975766,144171.8894621201,144166.23826430156,144165.4057409426,144164.49287353194,144164.0735880297,144167.77206528318,144166.93504712067,144165.8603674917,144169.48693691863,144164.41106963425,144163.43471360023,144162.66567033104,144161.5452007663,144165.38302437475,144164.3934561416,144159.53755170008,144158.63787917903,144157.8005801253,144152.0103253597,144151.3087121085,144150.691656757,144149.8594057925,144158.01642254854,144156.99568065855,144156.09152183434,144155.25871751743,144154.641943088,144149.3376768659,144148.15005785922,144147.31332058535,144141.95456376884,144146.16011576538,144145.2559485051,144144.4051651101,144143.28497639886,144137.91329709333,144136.93666013505,144140.92280269897,144140.0902793135,144139.0111053817,144142.78150744832,144141.87678681267,144141.45778229684,144140.551709995,144130.64874059244,144129.45691651726,144128.76373098613,144128.15116990585,144127.32313277991,144131.02555141997,144130.04470061374,144133.59935371924,144132.73986173884,144127.59264001722,144126.83202441465,144125.855387458,144124.78127017207,144128.55111042937,144123.61513411684,144122.64354524112,144121.86945385858,144120.73606179416,144115.36831519642,144114.39617300985,144113.92771745558,144117.55372503784,144121.10809721964,144120.1320221404,144119.3624255279,144118.81784831194,144118.05273796583,144112.4599721666,144106.99473671408,144106.2338487181,144105.2574926841,144109.38746782125,144108.54595488997,144107.49346871767,144106.52160745367,144101.15358014018,144105.0630306243,144104.29764785824,144103.3257866275,144102.27330042192,144106.03443202956,144105.56177113237,144104.58540659383,144099.36597835532,144093.6173002117,144092.76651681456,144091.86207706825,144091.45682925032,144090.54789480142,144094.31380209752,144097.58500376783,144096.89153731518,144096.28375242898,144090.8482951019,144089.94385538882,144088.949801194,144088.03637190856,144087.34796208184,144086.73145132567,144086.0379848891,144084.9638676053,144083.98723061333,144078.62397900317,144078.07939334697,144081.6787132325,144080.7745544389,144084.39634814044,144083.49612226407,144082.66809367802,144082.05552459156,144081.36233906902,144071.10905852466,144070.26781773556,144069.36365898143,144068.94464592787,144072.64256983102,144071.78420148318,144070.59181556382,144074.35744197154,144073.74543473366,144068.29678249132,144067.39711843664,144066.41626763044,144065.42614586532,144069.27267812967,144064.26871869704,144063.50811159043,144062.53230862226,144056.8724022204,144056.040159754,144055.56271468944,144054.59057246963,144053.79962570587,144061.8664661382,16194.043093466731,16193.85575699309,16193.619794949274,16192.358039482613,16192.186893021066,16192.06418433774,16192.895622232021,16192.670915966275,16193.486104462814,16193.283593591625,16193.095184047726,16192.959320561704,16191.767311063975,16190.495248340025,16190.307850558924,16190.102367643214,16190.00798810189,16190.840500995715,16190.652091451757,16190.410185232919,16191.226511953724,16190.08395390293,16189.864179944194,16189.691071285242,16189.438857929354,16190.302737147556,16190.079989174012,16188.986943906535,16188.784431109332,16188.595958337848,16187.292594434124,16187.134664010857,16186.995767243041,16186.808430776877,16188.644543630675,16188.414778587812,16188.211255941153,16188.023794917508,16187.884961384167,16186.690991617812,16186.42366318282,16186.23531686581,16185.029081477867,16185.975734930853,16185.772210385268,16185.580702340836,16185.32855220398,16184.119408013841,16183.89957082015,16184.79683606032,16184.60943827325,16184.366520404266,16185.215223294746,16185.011574186507,16184.917257894129,16184.713304531071,16182.484184504154,16182.215909524544,16182.059876148394,16181.921991023612,16181.735603076177,16182.569003160845,16182.34821744631,16183.148356081918,16182.954887768663,16181.796268110633,16181.625056486771,16181.405219293443,16181.163439655837,16182.01201608522,16180.90094694995,16180.682246060074,16180.508001090373,16180.25287892989,16179.044619977036,16178.825794539027,16178.720347009572,16179.536547261321,16180.33662266209,16180.116911945188,16179.943678730806,16179.821096510364,16179.648873137154,16178.389963234255,16177.159759918082,16176.988486979517,16176.768713020781,16177.698354415665,16177.508933116687,16177.272022558913,16177.053260355493,16175.844938214605,16176.724940364888,16176.552655671005,16176.333893475065,16176.096982909807,16176.943599055894,16176.837204920052,16176.61742904698,16175.442555981883,16174.148550814612,16173.957042769698,16173.753456888562,16173.662237175558,16173.457639554295,16174.305330689349,16175.041665505601,16174.885568895104,16174.7487588731,16173.525258497533,16173.321672623875,16173.097914877742,16172.892305486206,16172.737347102602,16172.59857292109,16172.44247631421,16172.200696677084,16171.980859475805,16170.773612327239,16170.65102820693,16171.461221161591,16171.257698521817,16172.072950245352,16171.870312890009,16171.683926864867,16171.546039937928,16171.39000656371,16169.082032856635,16168.892672815795,16168.689150184915,16168.594831970728,16169.427220307547,16169.23400491963,16168.965603471072,16169.81323137924,16169.675470922237,16168.449000422388,16168.246489530935,16168.025703816398,16167.802831244951,16168.668670747846,16167.542298875758,16167.371089164299,16167.151439698542,16165.877416706253,16165.690082152973,16165.582611119597,16165.36378567411,16165.185746623432,16167.001561136298,-2067907.657653437,-2052791.9829923878,-2037756.9137352104,-2022802.862075924,-2007930.2379874093,-1993139.4492101674,-1978430.901241146,-1963804.9973226157,-1949262.1384311216,-1934802.723266487,-1920427.148240881,-1906135.807467956,-1891929.0927520394,-1877807.3935773894,-1863771.0970975235,-1849820.5881246012,-1835956.249118871,-1822178.4601781913,-1808487.5990276062,-1794884.0410089893,-1781368.159070755,-1767940.323757636,-1754600.9032005174,-1741350.2631063545,-1728188.7667481392,-1715116.7749549411,-1702134.6461020191,-1689242.736100995,-1676441.3983900915,-1663730.983924449,-1651111.8411665023,-1638584.316076423,-1626148.75210264,-1613805.490172422,-1601554.8686825288,-1589397.2234899388,-1577332.8879026347,-1565362.192670471,-1553485.465976106,-1541703.0334259998,-1530015.2180414926,-1518422.3402499482,-1506924.7178759668,-1495522.666132674,-1484216.4976130784,-1473006.5222815005,-1461893.0474650767,-1450876.3778453344,-1439956.8154498343,-1429134.659643896,-1418410.2071223892,-1407783.751901595,-1397255.5853111525,-1386825.9959860668,-1376495.2698587975,-1366263.6901514204,-1356131.5373678617,-1346099.0892862068,-1336166.6209510895,-1326334.4046661453,-1316602.7099865507,-1306971.8037116318,-1297441.949877549,-1288013.4097500583,-1278686.4418173512,-1269461.3017829633,-1260338.2425587713,-1251317.5142580504,-1242399.3641886245,-1233584.0368460822,-1224871.773907076,-1216262.8142226953,-1207757.3938119183,-1199355.7458551428,-1191058.1006877911,-1182864.6857939968,-1174775.725800369,-1166791.4424698306,-1158912.0546955434,-1151137.7784949024,-1143468.8270036182,-1135905.4104698696,-1128447.7362485407,-1121096.008795538,-1113850.429662183,-1106711.1974896886,-1099678.5080037103,-1092752.554008983,-1085933.5253840345,-1079221.6090759784,-1072616.9890953912,-1066119.8465112667,-1059730.3594460497,-1053448.7030707565,-1047275.0496001691,-1041209.5682881167,-1035252.4254228333,-1029403.7843223992,-1023663.8053302653,-1018032.6458108546,-1012510.4601452504,-1007097.3997269622,-1001793.6129577751,-996599.245243683,-991514.4389909012,-986539.3336019614,-981674.0654718899,-976918.7679844717,-972273.5715085883,-967738.6033946485,-963313.9879710944,-958999.8465409912,-954796.2973787072,-950703.455726665,-946721.4337921864,-942850.3407444139,-939090.2827113192,-935441.3627767931,-931903.6809778181,-928477.3343017274,-925162.4166835472,-921959.0190034178,-918867.2290841048,-915887.1316885906,-913018.8085177508,-910262.3382081138,-907617.796329706,-905085.2553839786,-902664.7848018212,-900356.4509416572,-898160.3170876256,-896076.443447845,-894104.8871527645,-892245.702253595,-890498.9397208309,-888864.6474428484,-887342.8702245965,-885933.6497863657,-884637.0247626463,-883453.0307010692,-882381.7000614284,-881423.062214795,-880577.1434427109,-879843.9669364649,-879223.5527964626,-878715.9180316697,-878321.076559151,-878039.0392036843,-877869.8136974666,-877813.4046799,6.577854384711838E7,6.577800927208801E7,6.5777335941292964E7,6.577373545200333E7,6.57732470760715E7,6.5772896920029595E7,6.577526947423084E7,6.5774628262423545E7,6.5776954448065996E7,6.577637657204958E7,6.577583893495366E7,6.577545124095177E7,6.5772049775657475E7,6.5768419874036804E7,6.57678851240622E7,6.5767298767151706E7,6.576702944988963E7,6.576940507166176E7,6.576886743456566E7,6.576817714173711E7,6.57705065753657E7,6.57672462225213E7,6.576661908532596E7,6.5766125110154875E7,6.5765405405338384E7,6.576787053265891E7,6.576723490894716E7,6.576411584357941E7,6.5763537962067015E7,6.5763000144547656E7,6.5759280923272334E7,6.575883026003963E7,6.5758433910399705E7,6.575789933539068E7,6.576313878537869E7,6.576248313806999E7,6.576190237489608E7,6.576136744445537E7,6.576097127525853E7,6.5757564216228865E7,6.575680137969482E7,6.5756263923020326E7,6.575282186335835E7,6.575552319155429E7,6.57549424229617E7,6.575439594412244E7,6.575367641970498E7,6.5750226059614405E7,6.574959874197461E7,6.575215913816275E7,6.575162438817111E7,6.575093120854269E7,6.57533530293693E7,6.575277190533027E7,6.575250276855257E7,6.575192077630551E7,6.574555985852524E7,6.574479432097357E7,6.574434907107016E7,6.57439556082098E7,6.574342373985164E7,6.574580189327211E7,6.574517186897541E7,6.574745510900396E7,6.5746903036428764E7,6.57435968508962E7,6.574310828902009E7,6.574248097138134E7,6.5741791039759345E7,6.574421249972221E7,6.574104200224684E7,6.574041792711307E7,6.573992070941618E7,6.573919270416425E7,6.5735744870147444E7,6.573512043960866E7,6.573481953922783E7,6.5737148611969955E7,6.5739431671554394E7,6.5738804714823134E7,6.573831038422622E7,6.5737960589053184E7,6.573746914009413E7,6.57338767707787E7,6.573036631730257E7,6.572987758046156E7,6.572925044326622E7,6.5731903226609685E7,6.5731362702414446E7,6.5730686664982155E7,6.573006241488679E7,6.57266144005594E7,6.572912553556192E7,6.572863391162093E7,6.572800966154691E7,6.572733362409325E7,6.572974949027887E7,6.572944588870416E7,6.572881874604615E7,6.572546618051397E7,6.57217736649128E7,6.572122718607216E7,6.5720646242455184E7,6.5720385941938676E7,6.571980211126506E7,6.572222104499138E7,6.5724322217278376E7,6.5723876786932245E7,6.572348639193736E7,6.571999506567448E7,6.5719414122078836E7,6.5718775616924934E7,6.5718188899108656E7,6.571774671675618E7,6.571735071692307E7,6.571690528658727E7,6.571621535496666E7,6.5715588037305206E7,6.571214309052811E7,6.571179328993369E7,6.571410522051998E7,6.571352445736574E7,6.571585082342993E7,6.571527258648397E7,6.571474072361117E7,6.571434725560827E7,6.571390200571037E7,6.570731607457501E7,6.570677572518328E7,6.570619496205441E7,6.570592581979271E7,6.5708301086134516E7,6.5707749735295795E7,6.570698383685796E7,6.570940259016286E7,6.570900948304893E7,6.570550968137148E7,6.570493180529724E7,6.570430178100055E7,6.5703665801741764E7,6.5706136522843495E7,6.570292235815886E7,6.57024338017399E7,6.5701807019792184E7,6.569817152443694E7,6.5697636954886444E7,6.569733028032482E7,6.5696705849764705E7,6.569619780544705E7,6.570137933299204E7,212103.08332293347,210591.5158568286,209088.0089311108,207592.6037651822,206105.34135633073,204626.26247860654,203155.40768170438,201692.81728985137,200238.53140070196,198792.5898842385,197355.03238167788,195925.89830438542,194505.22683279373,193093.05691532872,191689.42726734217,190294.3763700499,188907.9424694769,187530.16357540892,186161.0774603504,184800.72165848868,183449.13346466527,182106.34993335337,180772.40787764156,179447.34386822523,178131.1942324037,176823.99505308387,175525.78216779174,174236.59116768924,172956.45739659888,171685.4159500347,170423.50167424,169170.74916523206,167927.1927678538,166692.866574832,165467.80442584265,164252.03990658367,163045.60634785326,161848.53682463686,160660.86415520037,159482.62090018974,158313.839361739,157154.55158258457,156004.78934518644,154864.58417085715,153733.9673188976,152612.96978573984,151501.62230409746,150399.95534212323,149307.9991025732,148225.78352197935,147153.3382698287,146090.69274774927,145037.87608870503,143994.91715619643,142961.84454346955,141938.68657273182,140925.4712943759,139922.22648621042,138928.97965269873,137945.7580242043,136972.58855624485,136009.4979287529,135056.51254534465,134113.6585325956,133180.96173932485,132258.4477358861,131346.1418134669,130444.06898339483,129552.25397645222,128670.72124219796,127799.49494829739,126938.59897985926,126088.05693878158,125247.89214310405,124418.12762636889,123598.78613698948,122789.89013762667,121991.46180457278,121203.52302714408,120426.09540708002,119659.20025795157,118902.85860457673,118157.09118244384,117421.91843714355,116697.36052380805,115983.43730655866,115280.16835796076,114587.57295848808,113905.6700959932,113234.4784651876,112574.01646712888,111924.30220871646,111285.35350219475,110657.18786466541,110039.82251760666,109433.27438640146,108837.56009987311,108252.69598982966,107678.69809061626,107115.5821386752,106563.36357211485,106022.05753028597,105491.67885336728,104972.24208195804,104463.7614566799,103966.25091778586,103479.72410477872,103004.19435603695,102539.67470844858,102086.17789705464,101643.71635469917,101212.30221168889,100791.9472954605,100382.66313025629,99984.46093680838,99597.35163203115,99221.34582872165,98856.45383526909,98502.68565537152,98160.05098776252,97828.55922594445,97508.21945793153,97199.04046600021,96901.03072644881,96614.19840936485,96338.55137840111,96074.09719056037,95820.84309598763,95578.79603777186,95347.96265175549,95128.3492663523,94919.96190237429,94722.8062728662,94536.88778294926,94362.21152967284,94198.7823018746,94046.6045800494,93905.68253622629,93776.02003385441,93657.62062769668,93550.48756373255,93454.62377906928,93370.03190186084,93296.71425123623,93234.67283723602,93183.90936075675,93144.42521350487,93116.2214779582,93099.29892733641,93093.65802557976,7280287.255800399,7280233.7982973615,7280166.465217858,7279806.416288895,7279757.578695712,7279722.563091521,7279959.818511645,7279895.697330916,7280128.315895162,7280070.528293519,7280016.764583928,7279977.995183739,7279637.848654309,7279274.858492242,7279221.383494781,7279162.747803733,7279135.816077525,7279373.378254738,7279319.614545127,7279250.5852622725,7279483.528625132,7279157.493340691,7279094.779621156,7279045.382104049,7278973.4116224,7279219.924354452,7279156.361983278,7278844.455446502,7278786.667295263,7278732.885543328,7278360.963415794,7278315.897092524,7278276.262128532,7278222.804627629,7278746.74962643,7278681.18489556,7278623.10857817,7278569.615534099,7278529.998614415,7278189.292711448,7278113.009058043,7278059.263390594,7277715.057424396,7277985.190243991,7277927.113384731,7277872.4655008055,7277800.513059059,7277455.477050002,7277392.745286022,7277648.784904837,7277595.309905672,7277525.99194283,7277768.174025492,7277710.061621589,7277683.147943817,7277624.948719112,7276988.856941085,7276912.303185917,7276867.778195577,7276828.4319095425,7276775.2450737255,7277013.060415773,7276950.057986101,7277178.3819889575,7277123.174731438,7276792.556178181,7276743.699990571,7276680.968226695,7276611.9750644965,7276854.121060783,7276537.071313246,7276474.663799869,7276424.942030179,7276352.141504987,7276007.358103306,7275944.915049428,7275914.825011345,7276147.732285557,7276376.038244002,7276313.342570875,7276263.909511183,7276228.92999388,7276179.785097974,7275820.5481664315,7275469.502818819,7275420.629134717,7275357.915415183,7275623.193749529,7275569.1413300065,7275501.537586776,7275439.11257724,7275094.311144502,7275345.424644753,7275296.262250654,7275233.8372432515,7275166.233497886,7275407.820116448,7275377.459958976,7275314.745693177,7274979.489139959,7274610.237579841,7274555.589695778,7274497.49533408,7274471.465282429,7274413.082215068,7274654.9755877,7274865.092816399,7274820.549781786,7274781.510282298,7274432.377656009,7274374.283296445,7274310.432781055,7274251.760999427,7274207.542764179,7274167.942780869,7274123.399747289,7274054.406585228,7273991.674819082,7273647.180141372,7273612.2000819305,7273843.39314056,7273785.316825135,7274017.953431554,7273960.129736958,7273906.943449678,7273867.596649388,7273823.071659598,7273164.4785460625,7273110.44360689,7273052.367294001,7273025.453067833,7273262.979702014,7273207.844618142,7273131.254774357,7273373.130104847,7273333.819393455,7272983.839225709,7272926.0516182855,7272863.049188616,7272799.451262738,7273046.523372911,7272725.106904447,7272676.251262552,7272613.57306778,7272250.0235322565,7272196.566577206,7272165.899121043,7272103.456065032,7272052.651633266,7272570.804387766,2.075531196545783E7,2.0604155218847338E7,2.045380452627556E7,2.03042640096827E7,2.0155537768797554E7,2.0007629881025136E7,1.986054440133492E7,1.9714285362149615E7,1.9568856773234677E7,1.9424262621588327E7,1.928050687133227E7,1.913759346360302E7,1.899552631644385E7,1.8854309324697353E7,1.8713946359898694E7,1.857444127016947E7,1.843579788011217E7,1.829801999070537E7,1.816111137919952E7,1.802507579901335E7,1.7889916979631007E7,1.7755638626499813E7,1.7622244420928635E7,1.7489738019987002E7,1.735812305640485E7,1.722740313847287E7,1.709758184994365E7,1.6968662749933407E7,1.684064937282437E7,1.6713545228167947E7,1.6587353800588481E7,1.6462078549687687E7,1.6337722909949861E7,1.6214290290647678E7,1.609178407574875E7,1.5970207623822846E7,1.5849564267949805E7,1.5729857315628171E7,1.5611090048684515E7,1.5493265723183453E7,1.5376387569338381E7,1.526045879142294E7,1.5145482567683123E7,1.5031462050250195E7,1.4918400365054242E7,1.4806300611738466E7,1.4695165863574222E7,1.4584999167376801E7,1.4475803543421797E7,1.4367581985362418E7,1.4260337460147351E7,1.4154072907939404E7,1.404879124203498E7,1.3944495348784126E7,1.3841188087511435E7,1.3738872290437661E7,1.3637550762602068E7,1.3537226281785525E7,1.3437901598434351E7,1.333957943558491E7,1.3242262488788962E7,1.314595342603977E7,1.3050654887698948E7,1.2956369486424036E7,1.2863099807096966E7,1.2770848406753093E7,1.2679617814511165E7,1.258941053150396E7,1.25002290308097E7,1.2412075757384278E7,1.2324953127994217E7,1.2238863531150408E7,1.215380932704264E7,1.2069792847474888E7,1.1986816395801365E7,1.1904882246863425E7,1.182399264692714E7,1.174414981362176E7,1.1665355935878888E7,1.1587613173872478E7,1.1510923658959635E7,1.1435289493622154E7,1.136071275140886E7,1.1287195476878837E7,1.1214739685545288E7,1.1143347363820344E7,1.107302046896056E7,1.1003760929013282E7,1.09355706427638E7,1.0868451479683243E7,1.0802405279877372E7,1.0737433854036123E7,1.0673538983383954E7,1.061072241963102E7,1.054898588492515E7,1.048833107180462E7,1.042875964315179E7,1.0370273232147448E7,1.0312873442226112E7,1.0256561847032003E7,1.0201339990375958E7,1.0147209386193074E7,1.0094171518501207E7,1.0042227841360286E7,9991379.778832465,9941628.724943064,9892976.043642357,9845423.068768173,9798971.104009338,9753621.422869943,9709375.268634401,9666233.85433337,9624198.362710528,9583269.946190104,9543449.726845317,9504738.796367593,9467138.216036648,9430649.016691387,9395272.198701635,9361008.731940731,9327859.555758923,9295825.578957632,9264907.679764502,9235106.705809362,9206423.474100962,9178858.771004595,9152413.352220513,9127087.94276324,9102883.236941665,9079799.898340032,9057838.559799708,9036999.823401906,9017284.2604511,8998692.411459409,8981224.786131762,8964881.863351941,8949664.091169417,8935571.88678711,8922605.63654992,8910765.695934147,8900052.389537737,8890466.011071406,8882006.823350564,8874675.058288105,8868470.91688808,8863394.569240153,8859446.154514968,8856625.7809603,8854933.525898121,8854369.435722455,26949.688422895797,26948.17685542969,26946.673348503973,26945.177943338043,26943.690680929194,26942.21160205147,26940.740747254567,26939.278156862714,26937.823870973563,26936.3779294571,26934.94037195454,26933.511237877246,26932.090566405655,26930.67839648819,26929.274766840204,26927.879715942912,26926.49328204234,26925.11550314827,26923.746417033213,26922.38606123135,26921.03447303753,26919.691689506217,26918.357747450504,26917.032683441088,26915.716533805265,26914.409334625947,26913.111121740654,26911.821930740552,26910.54179696946,26909.2707555229,26908.0088412471,26906.756088738093,26905.512532340716,26904.278206147694,26903.053143998706,26901.837379479446,26900.630945920715,26899.4338763975,26898.246203728064,26897.067960473054,26895.899178934604,26894.73989115545,26893.59012891805,26892.44992374372,26891.31930689176,26890.198309358602,26889.08696187696,26887.985294914986,26886.893338675436,26885.81112309484,26884.73867784269,26883.67603232061,26882.62321566157,26881.58025672906,26880.54718411633,26879.524026145595,26878.51081086724,26877.507566059074,26876.51431922556,26875.531097597068,26874.557928129107,26873.594837501616,26872.64185211821,26871.698998105458,26870.76630131219,26869.84378730875,26868.93148138633,26868.029408556256,26867.137593549316,26866.25606081506,26865.38483452116,26864.523938552724,26863.673396511644,26862.833231715966,26862.003467199233,26861.184125709853,26860.37522971049,26859.576801377436,26858.788862600006,26858.011434979944,26857.244539830815,26856.48819817744,26855.74243075531,26855.007258010006,26854.28270009667,26853.568776879423,26852.865507930823,26852.17291253135,26851.491009668855,26850.81981803805,26850.159356039992,26849.50964178158,26848.87069307506,26848.242527437527,26847.62516209047,26847.018613959266,26846.422899672736,26845.838035562694,26845.26403766348,26844.700921711537,26844.14870314498,26843.607397103147,26843.07701842623,26842.557581654823,26842.049101029545,26841.55159049065,26841.06506367764,26840.5895339289,26840.12501428131,26839.671517469917,26839.22905592756,26838.797641784553,26838.377286868323,26837.96800270312,26837.56980050967,26837.182691204893,26836.806685401585,26836.441793408132,26836.088025228233,26835.745390560627,26835.413898798808,26835.093559030796,26834.784380038862,26834.486370299313,26834.19953798223,26833.923890951264,26833.659436763424,26833.406182668852,26833.164135610634,26832.933302224617,26832.713688839216,26832.505301475238,26832.30814584573,26832.122227355812,26831.947551102538,26831.784121874738,26831.631944152912,26831.49102210909,26831.36135960672,26831.24296020056,26831.135827136597,26831.039963351934,26830.955371474724,26830.882053824098,26830.8200124101,26830.76924893362,26830.729764786367,26830.70156105082,26830.6846385002,26830.678997598443,5767.276986205987,5767.271640455683,5767.264907147733,5767.228902254836,5767.224018495518,5767.220516935098,5767.244242477111,5767.2378303590385,5767.261092215463,5767.255313455298,5767.24993708434,5767.24606014432,5767.2120454913775,5767.175746475171,5767.170398975425,5767.16453540632,5767.161842233699,5767.18559845142,5767.180222080459,5767.1733191521735,5767.19661348846,5767.164009960015,5767.157738588062,5767.152798836351,5767.1456017881865,5767.170253061392,5767.163896824274,5767.132706170597,5767.126927355473,5767.1215491802795,5767.084356967526,5767.079850335199,5767.0758868388,5767.070541088709,5767.12293558859,5767.116379115502,5767.110571483763,5767.105222179356,5767.101260487388,5767.067189897091,5767.059561531751,5767.054186965006,5767.019766368387,5767.046779650345,5767.040971964419,5767.035507176027,5767.028311931853,5766.993808330947,5766.987535154549,5767.0131391164305,5767.007791616514,5767.000859820229,5767.025078028496,5767.019266788106,5767.016575420328,5767.010755497858,5766.947146320055,5766.939490944538,5766.935038445505,5766.931103816901,5766.925785133319,5766.949566667524,5766.943266424557,5766.966098824842,5766.9605780990905,5766.927516243764,5766.922630625004,5766.916357448616,5766.909458132396,5766.933672732025,5766.901967757271,5766.895727005934,5766.890754828964,5766.883474776445,5766.848996436277,5766.8427521308895,5766.839743127081,5766.863033854503,5766.885864450347,5766.879594883034,5766.874651577065,5766.871153625334,5766.866239135744,5766.830315442589,5766.795210907829,5766.790323539419,5766.784052167464,5766.8105800009,5766.805174758947,5766.798414384624,5766.792171883671,5766.757691740397,5766.782803090422,5766.777886851012,5766.771644350271,5766.764883975735,5766.789042637592,5766.7860066218445,5766.779735195264,5766.746209539942,5766.709284383931,5766.703819595525,5766.698010159354,5766.6954071541895,5766.689568847453,5766.713758184716,5766.734769907586,5766.730315604125,5766.726411654176,5766.691498391548,5766.685688955591,5766.679303904052,5766.67343672589,5766.669014902364,5766.665054904033,5766.660600600675,5766.653701284469,5766.6474281078545,5766.612978640083,5766.60948063414,5766.632599940002,5766.62679230846,5766.650055969102,5766.6442735996425,5766.638954970915,5766.635020290885,5766.630567791906,5766.564708480553,5766.559304986636,5766.553497355347,5766.550805932729,5766.574558596148,5766.569045087761,5766.561386103383,5766.585573636431,5766.581642565292,5766.546644548517,5766.540865787775,5766.534565544808,5766.52820575222,5766.552912963238,5766.520771316391,5766.515885752202,5766.509617932725,5766.473262979172,5766.467917283667,5766.464850538051,5766.45860623245,5766.453525789273,5766.505341064723,13824.466052880573,13975.622799491062,14125.97349206284,14275.5140086557,14424.240249540846,14572.148137313266,14719.23361700348,14865.492656188784,15010.921245103724,15155.515396750074,15299.27114700613,15442.18455473538,15584.251701894547,15725.468693641047,15865.831658439707,16005.336748168931,16143.98013822623,16281.758027633026,16418.66663913888,16554.70221932505,16689.86103870739,16824.139391838584,16957.533597409765,17090.039998351396,17221.65496193355,17352.37487986553,17482.196168394752,17611.115268404996,17739.12864551403,17866.23279017045,17992.424217749918,18117.699468650717,18242.055108388544,18365.48772769072,18487.993942589652,18609.570394515555,18730.213750388597,18849.92070271023,18968.68796965388,19086.51229515495,19203.39044900002,19319.31922691546,19434.29545065527,19548.3159680882,19661.37765328416,19773.477406599937,19884.612154764174,19994.7788509616,20103.9744749166,20212.196032975982,20319.440558191047,20425.705110398994,20530.98677630342,20635.282669554275,20738.589930826965,20840.90572790074,20942.227255736325,21042.551736552872,21141.876419904045,21240.198582753488,21337.515529549433,21433.824592298624,21529.123130639455,21623.408531914363,21716.67821124143,21808.929611585307,21900.160203827232,21990.36748683444,22079.548987528695,22167.702260954124,22254.824890344185,22340.91448718799,22425.968691295762,22509.98517086351,22592.961622537034,22674.89577147497,22755.785371411257,22835.62820471664,22914.42208245951,22992.164844465915,23068.85435937876,23144.488524716246,23219.065266929538,23292.58254145956,23365.038332793112,23436.43065451806,23506.757549377842,23576.017089325112,23644.207375574595,23711.326538655157,23777.372738461032,23842.344164302274,23906.239034954444,23969.055598707375,24030.792133413248,24091.446946533775,24151.018375186613,24209.504786190955,24266.90457611229,24323.216171306398,24378.43802796244,24432.568632145325,24485.606499837195,24537.55017697811,24588.39823950593,24638.149293395334,24686.80197469604,24734.354949570225,24780.806914329056,24826.156595468456,24870.402749704,24913.544164005034,24955.579655627873,24996.508072148295,25036.328291493075,25075.0392219708,25112.639802301754,25149.129001647016,25184.50581963676,25218.76928639767,25251.918462579473,25283.952439380766,25314.8703385739,25344.67131252904,25373.354544237438,25400.919247333804,25427.364666117886,25452.690075575156,25476.89478139673,25499.97811999837,25521.939458538684,25542.778194936494,25562.4937578873,25581.085606878994,25598.553232206636,25614.89615498646,25630.113927168983,25644.20613155129,25657.172381788478,25669.012322404255,25679.72562880066,25689.31200726699,25697.771194987836,25705.102960050295,25711.307101450315,25716.38344909824,25720.331863823427,25723.152237378097,25724.844492440272,25725.408582615943};
        ByteBuffer byteBuffer = encode(values);
        final byte[] compress2 = ZstdCompress.compress(byteBuffer.array(), 25);
        System.out.println(byteBuffer);
//        double[] decode = decode(byteBuffer, values.length);
//        for (int i = 0; i < decode.length; i++) {
//            System.out.println(decode[i]);
//        }
        final ByteBuffer allocate = ByteBuffer.allocate(values.length * 8);
        for (double value : values) {
            allocate.putDouble(value);
        }
        final byte[] compress1 = ZstdCompress.compress(allocate.array(), 25);
        final GzipCompress gzipCompress = new GzipCompress();
        final byte[] compress = gzipCompress.compress(compress1);
    }
}
